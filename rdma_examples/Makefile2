LDLIBS  := ${LDLIBS} -lrdmacm -libverbs -lpthread

.PHONY: load unload

all: server client

client: client.c
	make -f  Makefile_module

server: server.c
	gcc server.c -O0 -ggdb -o server $(LDLIBS)

load:
	sudo insmod client.ko

unload:
	sudo rmmod -f client.ko
 
clean:
	make -f  Makefile_module clean
	rm -rf *.o server
